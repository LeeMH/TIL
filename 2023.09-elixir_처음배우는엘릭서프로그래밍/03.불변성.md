# 3. 불변성

## 1. 불변 데이터는 확실한 데이터다

* 엘릭서에서는 모든 값이 `불변`이다.

## 2. 성능(재사용)

* 변경이 있을때마다 복사본을 새로 만들어 낸다면 가비지가 많이 생기고 GC가 빈번 할것 이다.

* 하지만, 원본 데이터가 변경되지 않기 때문에 새로운 데이터를 생성할때, 이전 데이터의 일부, 전부를 재사용 할수 있다.

* 아래 예시에서 list2는 첫번째 값이 4이고, 그 이후는 list를 가리키는 리스트가 된다.

* 원본이 변할수 있는 언어에서는 전체를 복사하지만, 엘릭서에서는 원본이 변하지 않기 때문에 4와 list를 가리키는 데이터가 생성된다.

```elixir
iex(24)> list = [1, 2, 3]
[1, 2, 3]
iex(25)> list2 = [4 | list]
[4, 1, 2, 3]
```

## 3. 성능(GC)

* 엘릭서는 각자 독립된 프로세스에서 동작한다.

* 각 프로세스는 각자의 heap을 가진다.

* 따라서, GC가 각각 프로세스에서 일어나기 때문에 더 빠르게 수행될수 있다.

## 4. 불변 데이터를 이용해서 코딩

* 항상 함수에 input이 들어가고 변경된 새로운 output이 나온다.

* 이때, input은 변경의 소스가 된것일뿐 input에 대한 변경은 절대 없다.

```elixir
iex(28)> name = "elixir"
"elixir"
iex(29)> cap_name = String.capitalize name
"Elixir"
iex(30)> cap_name
"Elixir"
iex(31)> name
"elixir"
```