
# 코루틴이란?

* `co` + `routine` 의 합성어
* 협력하는 루틴
## routine

* 루틴에 집입하는 곳이 한 군데 이다.
* 루틴이 종료되면, 루틴의 정보가 초기화 된다.

## coroutine

* 일반 루틴과 다르게 일시중단후 재개될 수 있다.
* 아래 소스에서 `launch`를 통해 `newRoutine`가 실행된다.
```kotlin
package ch1  
  
import kotlinx.coroutines.launch  
import kotlinx.coroutines.runBlocking  
import kotlinx.coroutines.yield  
  
fun main(): Unit = runBlocking {  
    printWithThread("START")  
    launch {  
        newRoutine()  
    }  
    yield()  
    printWithThread("END")  
}  
  
suspend fun newRoutine() {  
    val num1 = 1  
    val num2 = 2  
    yield()  
    printWithThread("${num1 + num2}")  
}  
  
fun printWithThread(str: Any) {  
    println("[${Thread.currentThread().name}] $str")  
}
```

* 실행결과
![[Pasted image 20241011190125.png]]

![[Pasted image 20241011190250.png]]


## 코루틴 디버깅 활성화

* vm 옵션에 `-Dkotlinx.coroutines.debug` 설정을 넣는다.
![[Pasted image 20241011190041.png]]